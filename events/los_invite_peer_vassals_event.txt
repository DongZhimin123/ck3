namespace = los_invite_peer_vassals_event

# 邀请同僚事件 0001~0002
los_invite_peer_vassals_event.0001 = {
    hidden = yes
    immediate = {
        scope:los_guest = {
            current_travel_plan ?= {
                delay_travel_plan = { days = 30 }
            }
        }

        scope:los_host = {
            trigger_event = los_invite_peer_vassals_event.0002
        }
    }
}

# 欢迎
los_invite_peer_vassals_event.0002 = {
    type = character_event
    title = los_invite_peer_vassals_event.0002.t
    theme = court

    immediate = {
        # 有招待厅
        scope:los_host = {
            set_variable = {
                name = los_recipient
                value = 0
            }

            if = {
                limit = {
                    domicile ?= {
                        has_domicile_building_or_higher = reception_hall_01
                    }
                }
                change_variable = {
                    name = los_recipient
                    add = 1
                }
            }
        }

    }

    desc = {
        triggered_desc = {
            trigger = { scope:los_host.var = 1 }
            desc = los_invite_peer_vassals_event.0002.d_1
        }

        desc = los_invite_peer_vassals_event.0002.d_0
    }

    left_portrait = {
        character = scope:los_host
        animation = happiness
    }

    right_portrait = {
        character = scope:los_guest
        animation = happiness
    }

    option = {
        name = moreinter_dating.700.a
        trigger_event = moreinter_dating.675
    }

    after = {
        scope:los_host = {
            remove_variable = los_recipient
        }
    }
}